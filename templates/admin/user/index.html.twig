{% extends 'admin/base_table_admilte.html.twig' %}

{% block title %} Utilisateurs{% endblock %}
{% block titlecss %}{% trans %}Liste des utilisateurs  {% endtrans %}{% endblock %}
 {% block btntitle %}
     {% trans %} Ajouter un utilisateur{% endtrans %}
 {% endblock %}
{% block btnapath %} {{ path('admin_user_new') }} {% endblock %}
{% block card_header_title %} {% trans %}Liste des utilisateurs{% endtrans %}{% endblock %}
{% block tablecontent %}

    <thead>
    <tr>
        <th>{% trans %}N°{% endtrans %}</th>
{#        <th>{% trans %}Nom{% endtrans %}</th>#}
{#        <th>{% trans %}Prenoms{% endtrans %}</th>#}
        <th>{% trans %}Email{% endtrans %}</th>
{#        <th>{% trans %}Telephone{% endtrans %}</th>#}
        {#                            <th>{% trans %}Entreprise{% endtrans %}</th> #}
{#        <th>{% trans %}Poste{% endtrans %}</th>#}
{#        <th>{% trans %}Statut{% endtrans %}</th>#}
        <th>{% trans %}Roles{% endtrans %}</th>
        <th>{% trans %}actions{% endtrans %}</th>
    </tr>
    </thead>
    <tbody>
    {% for user in users %}
        <tr>
            <td>{{ loop.index }}</td>
{#            <td>{{ user.nom }}</td>#}
{#            <td>{{ user.prenoms }}</td>#}
            <td>{{ user.email }}</td>
{#            <td>{{ user.telephone }}</td>#}
            {#                                <td>{{ user.departement }}</td> #}
{#            <td>{{ user.poste }}</td>#}
{#            <td>{{ user.isActif ? 'Actif' : 'Désactivé' }}</td>#}
            <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
            <td>
                <div class="margin">
                    <div class="btn-group">
                        <button type="button" class="btn btn-default btn-flat">{% trans %}Action{% endtrans %}</button>
                        <button type="button"
                                class="btn btn-default btn-flat dropdown-toggle dropdown-icon"
                                data-toggle="dropdown">
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <div class="dropdown-menu" role="menu">
                            <a class="dropdown-item"
                               href="{{ path('admin_user_show', {'id': user.id}) }}"><i
                                        class="fas fa-eye" style="color: #28a745;"></i>Voir</a>
                            <a class="dropdown-item"
                               href="{{ path('admin_user_edit', {'id': user.id}) }}"><i
                                        class="fas fa-edit" style="color: #17a2b8;"></i>
                                Modifier </a>
                            <a class="dropdown-item"
                               href="{{ path('reset_password_by_admin', {'id': user.id}) }}"><i
                                        class="fa fa-key" style="color: #dc3545;"></i> Renitialiser mot de passe</a>

                        </div>
                    </div>

                </div>

            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="4">{% trans %}Aucune donnée disponible{% endtrans %}</td>
        </tr>
    {% endfor %}
    </tbody>


{% endblock %}
